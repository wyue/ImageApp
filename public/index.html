<!DOCTYPE HTML>
<html>
<head>
    <title>HTML5图片滚动效果</title>
    <!--页面编码-->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--initial-scale初始缩放比例,maximum-scale允许缩放的最大比例-->
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0">
    <!--设置工程是否全屏运行-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!--设置状态栏的style(black-translucent,black,default)-->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!--用户是否可以手动缩 (no,yes)-->
    <meta name="viewport" content="user-scalable=no, width=device-width"/>
    <!--设置页面宽度-->
    <!--<meta name="viewport" content="width=320"/>-->

    <!--页面最小宽度是1024时加载style.css-->
    <link rel="stylesheet" media="screen and (min-width: 1025px)" href="stylesheets/index_h_style.css">
    <link rel="stylesheet" media="screen and (max-width: 1024px) and (min-width:700px) and (orientation:portrait)"
          href="stylesheets/index_h_style.css">
    <link rel="stylesheet" media="screen and (max-width: 1024px) and (min-width:700px) and (orientation:landscape)"
          href="stylesheets/index_h_style.css">

    <script type="text/javascript" src='javascripts/jquery-1.8.1.min.js'></script>
    <script src="javascripts/pagecontrol.js"></script>
    <script src="javascripts/imagescroll.js"></script>
    <script src="javascripts/touch.js"></script>
    <script>

        var articlelist = {"items":[
            {"ircEvent":"PRIVMSG", "method":"newURI", "regex":"^http://.*"},
            {"ircEvent":"PRIVMSG", "method":"deleteURI", "regex":"^delete.*"},
            {"ircEvent":"PRIVMSG", "method":"randomURI", "regex":"^random.*"}
        ]
        };


        window.onload = function () {

//假设三页
            var page_ = $("#page");
            for (var i = 0; i < 3; i++) {
                if (i == 0) {
                    page_.append("<label class='highlight' ></label>");
                } else {
                    page_.append("<label class='nohighlight' ></label>");
                }
            }

            var topimages = $("#overflow_top .inner_top")
            var page_top = $("#page_top");
            for (var i = 0; i < 4; i++) {

                var $img = $('<img src="http://images.china.cn/attachement/jpg/site1000/20120918/001ec949fc8d11c24f0c44.jpg" />');
                topimages.append($img);

                if (i == 0) {
                    page_top.append("<label class='highlight' ></label>");
                } else {
                    page_top.append("<label class='nohighlight' ></label>");
                }

            }


            var firstlist = $("#J_ListContent1 .main-view-list")

            for (var i = 0; i < 4; i++) {

                var $li = $('<li class="list-item list-item-combine list-item-flag list-item-first" ><div class="list-ibox"><h3 class="title"><a  href="www.baidu.com" class="J_ItemDesc">中国举行演习哈哈哈</a></h3><div class="pic s220"> <a  href="www.baidu.com" ><img src="http://images.china.cn/attachement/jpg/site1000/20120918/001ec949fc8d11c24f0c44.jpg"width=220 height=220></a></div></div></li>');
                firstlist.append($li);

            }


            var firstlist2 = $("#J_ListContent2 .main-view-list")
            for (var i = 0; i < 12; i++) {

                var $li = $('<li class="list-item list-item-combine list-item-flag"><div class="list-ibox"><h3 class="title"><a   href="www.baidu.com" class="J_ItemDesc">中国举行演习哈哈哈</a></h3><div class="pic s220"> <a  href="www.baidu.com"><img src="http://images.china.cn/attachement/jpg/site1000/20120918/001ec949fc8d11c24f0c44.jpg"width=220 height=220></a></div></div></li>');
                firstlist2.append($li);
            }


            $("#overflow").width($("#overflow  .page").width().valueOf() * $("#overflow  .page").length);

            $("#overflow_top .inner_top").width($("#overflow_top .inner_top   img").width().valueOf() * $("#overflow_top .inner_top  img").length);


//            $("#J_ListContent1 .main-view-list").on('touchstart', function(e){
//
//               var click = true;
//                //绑定touchmove事件，监听手指滑动
//                $(e.target).on('touchmove', function(e){
//                    click = false;
//                }).on('touchend',function(){
//                            //alert(click);
//
//                            if(click){
//                                alert("aaaaa");
//                            }
//
//
//
//                        });
//            });


            var click = true;
            var a = 0;
            $('#J_ListContent1 .main-view-list').on(
                    'touchstart touchmove touchend',
                    function (e) {
                        e.preventDefault();


                        //e.stopPropagation();
                        var $click = $(e.target);


                        if (e.type == 'touchstart') {

                            click = true;

                        }
                        if (e.type == 'touchmove') {

                            click = false;

                        }
                        if (e.type == 'touchend') {

                            if (click) {
                                e.stopPropagation();
                                // alert($click.attr("src"));
                                console.log($click.attr("src"));

                            }
                            click = true;

                        }

                    });


        };

        //


        function go() {

            alert("aa");


        }


    </script>

</head>

<body>
<div id="main" style="position: relative;">

    <div id="overflow">
        <article class="page">

            <!-- 首页大图展示栏-->
            <div style="width: 900px;height: 375px;position: relative;" id="firstdiv">
                <div id="overflow_top" class="left">
                    <div class="inner_top">

                    </div>

                </div>
                <ul class="nav-map-wrapper left">
                    <li style="background-color: red;"></li>
                    <li style="background-color: blue;"></li>
                    <li style="background-color: red;"></li>
                </ul>
                <!-- #overflow_top -->
                <div id="page_top" style="position: absolute;bottom:20px;left: 305px;"></div>


            </div>

            <!-- 首页列表标题栏-->
            <div class="list-title">

            </div>
            <!-- 首页横屏列表栏-->
            <div id="J_ListContent1" class="list-content">
                <ul class="main-view-list ">


                </ul>
            </div>


        </article>
        <article class="page">


            <div id="J_ListContent2" class="list-content">
                <ul class="main-view-list">

                </ul>
            </div>


        </article>
        <article class="page">

            <div id="J_ListContent3" class="list-content">
                <ul class="main-view-list">
                    <li class="list-item list-item-combine list-item-flag">
                        <div style="position:relative">
                            <div class="list-ibox" style="position:absolute;-webkit-transform:rotate(2deg);z-index:0;">

                            </div>


                            <div class="list-ibox" style="position:absolute;">
                                <h3 class="title">
                                    <a data-spm="d11" href="http://www.css3train.com" class="J_ItemDesc">中国举行演习哈哈哈</a>
                                </h3>

                                <div class="pic s220">


                                    <!-- 产品图片 -->
                                    <a data-spm="d11" href=" http://www.css3train.com" target="_blank">
                                        <img src="http://images.china.cn/attachement/jpg/site1000/20120918/001ec949fc8d11c24f0c44.jpg"
                                             width=220 height=220>
                                    </a>

                                </div>


                            </div>
                        </div>
                    </li>
                    <li class="list-item list-item-combine list-item-flag">

                        <div class="list-ibox" style="-webkit-transform:rotate(1deg);z-index:1;"></div>
                        <div class="list-ibox"></div>

                    </li>

                    <li class="list-item list-item-combine list-item-flag" style="position:relative">
                        <div class="list-ibox" style="-webkit-transform:rotate(3deg); z-index:1; position:absolute; top:0;left:0;">
                        </div>
                        <div class="list-ibox" style=" z-index:2; position:absolute; top:0;left:0;"><h3 class="title"><a href="www.baidu.com"
                                                                    class="J_ItemDesc">中国举行演习哈哈哈</a></h3>

                            <div class="pic s220"><a href="www.baidu.com"><img
                                    src="http://images.china.cn/attachement/jpg/site1000/20120918/001ec949fc8d11c24f0c44.jpg"
                                    width=220 height=220></a></div>
                        </div>

                    </li>
                </ul>


            </div>

        </article>


    </div>
    <!-- #overflow -->

    <div id="page" style="position: absolute;bottom:100px;left:500px;"></div>
</div>
</body>
</html>